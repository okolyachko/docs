<!doctype html>
<html class="no-js">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><link rel="index" title="Index" href="../../../genindex/" /><link rel="search" title="Search" href="../../../search/" /><link rel="next" title="Query API" href="../query-api/" /><link rel="prev" title="Static corpus" href="../static/" />

    <link rel="shortcut icon" href="../../../_static/favicon.ico"/><meta name="generator" content="sphinx-3.5.4, furo 2021.04.11.beta34"/>
        <title>Dynamic corpus | Alan Docs</title>
      <link rel="stylesheet" href="../../../_static/styles/furo.css?digest=59ab60ac09ea94ccfe6deddff6d715cce948a6fc">
    <link rel="stylesheet" href="../../../_static/pygments.css">
    <link media="(prefers-color-scheme: dark)" rel="stylesheet" href="../../../_static/pygments_dark.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    


<style>
  :root {
    --color-code-background: #ffffff;
  --color-code-foreground: black;
  
  }
  @media (prefers-color-scheme: dark) {
    :root {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
  }

  /* For allowing end-user-specific overrides */
  .override-light {
    --color-code-background: #ffffff;
  --color-code-foreground: black;
  
  }
  .override-dark {
    --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
  }
</style><link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/panels-bootstrap.5fd3999ee7762ccc51105388f4a9d115.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/custom.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/algolia.css" />
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/typesense-docsearch.js@latest/dist/cdn/docsearch.min.css" />
    <link rel="stylesheet" href="../../../_static/styles/furo-extensions.css?digest=d391b54134226e4196576da3bdb6dddb7e05ba2b">
    <link rel="shortcut icon" type="image/x-icon" href="../../../_static/favicon.ico">
	<link href="https://fonts.googleapis.com/css?family=Poppins" rel="stylesheet">
	<link rel="canonical" href="https://alan.app/docs/server-api/qna-tools/dynamic/"/>
    <script type="text/javascript" src= "https://studio.alan.app/web/lib/alan_lib.min.js"></script>
	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-QTCQV2T397"></script>
        <script>
        	window.dataLayer = window.dataLayer || [];
        	function gtag(){dataLayer.push(arguments);}
        	gtag('js', new Date());
		
        	gtag('config', window.location.hostname === "alan.app" ? 'G-QTCQV2T397' : 'G-H4F9QS7RMX');
	</script>
</head>
  <body dir="">
    
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke-width="1.5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z"/>
      <line x1="4" y1="6" x2="20" y2="6" />
      <line x1="10" y1="12" x2="20" y2="12" />
      <line x1="6" y1="18" x2="20" y2="18" />
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
      class="feather feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="-5 -3 24 24"
      stroke="currentColor"
      class="feather feather-chevron-right">
      <path d="M11 9l-6 5.25V3.75z"></path>
    </svg>
  </symbol>
</svg>


    <link rel="shortcut icon" type="image/x-icon" href="../../../_static/favicon.ico">
	<link href="https://fonts.googleapis.com/css?family=Poppins" rel="stylesheet">
	<link rel="canonical" href="https://alan.app/docs/server-api/qna-tools/dynamic/"/>
    <script type="text/javascript" src= "https://studio.alan.app/web/lib/alan_lib.min.js"></script>
	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-QTCQV2T397"></script>
        <script>
        	window.dataLayer = window.dataLayer || [];
        	function gtag(){dataLayer.push(arguments);}
        	gtag('js', new Date());
		
        	gtag('config', window.location.hostname === "alan.app" ? 'G-QTCQV2T397' : 'G-H4F9QS7RMX');
	</script>



<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation"></label>
<label class="overlay toc-overlay" for="__toc"></label>


<div class="header-new">
<div class="header-content">
		<div class="logo-part">
			<div class="logo"> 
			
             <div class="sidebar-logo-container">
				<div class="alan-logo"><a href="https://alan.app"><img class="sidebar-logo" src="../../../_static/alan-logo.svg" alt="Logo"/></a></div>
				<div class="docs">
					
					<a href="../../../"> 
					
					</div>
				</div>
			
			</div>
			
			
			</a>
		</div>
        
		
		<div class="right-block">
		
		<!-- First Dropdown -->
		<div class="dropdown" id="version">
			<button class="dropbtn">4.2</button>
			<div class="dropdown-content">
				<a href="javascript:void(0);">4.2</a>
				<a href="javascript:void(0);">3.x</a>
			</div>
		</div>

		<!-- Second Dropdown -->
		<div class="dropdown" id="platform">
			<button class="dropbtn">Framework/language</button>
			<div class="dropdown-content">
				<a href="javascript:void(0);">Web (React, Angular, etc.)</a>
				<a href="javascript:void(0);">Objective-C</a>
				<a href="javascript:void(0);">Swift</a>
				<a href="javascript:void(0);">Kotlin</a>
				<a href="javascript:void(0);">Java</a>
				<a href="javascript:void(0);">Flutter</a>
				<a href="javascript:void(0);">Ionic</a>
				<a href="javascript:void(0);">React Native</a>

			</div>
		</div>
		
		
		<div class="goto"><a class="docs-tooltip-link" target="_blank"></a>
		<span class="docs-tooltip">Go to docs</span>
		</div>
		
		<div class="search-box">   
			<form class="sidebar-search-container" >
				<input class="sidebar-search" placeholder=Search name="q" ={sendRequestDebounce}>
				<input type="hidden" name="check_keywords" value="yes">
				<input type="hidden" name="area" value="default">
			</form>
			
			
		</div>
		<div class="social">
			<a href="https://alanaigroup.slack.com/join/shared_invite/enQtNzMzOTE5MTIwMjg4LWI4ZmM4MTNkMTdmY2M0ZWEwODlmZDQ5Y2ZkMjUzNmMyZDJiMzA0Y2M1NDdhYzZjYWFlZTA5NjM4OTU0MWFmNWU#/shared-invite/email" target="_blank" class="fa-brands fa-slack fa-lg"></a>
			<a href="https://github.com/alan-ai" target="_blank" class="fa-brands fa-github fa-lg"></a>
        </div>
		</div>
		</div>
    </div>

	  
		
		
	
	</div>
<div class="page">
  
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <div class="logo-part">
			<div class="logo"> 
			
             <div class="sidebar-logo-container">
				<a href="https://alan.app"><img class="sidebar-logo" src="../../../_static/alan-logo.svg" alt="Logo"/></a>
			</div>
			
			</div>
			
			<div class="docs">
			
			<a href="../../../"> 
			
			</div>
			</a>
		</div>
    </div>
    <div class="header-right">
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand centered" href="../../../contents/">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="../../../_static/alan-logo.svg" alt="Logo"/>
  </div>
  
  
</a><form class="sidebar-search-container">
  <input class="sidebar-search search-mobile" placeholder=Search name="q">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption"><span class="caption-text">Introduction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../">Get started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../usage/how-works/infrastructure/">Alan AI Platform</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../usage/guides/studio/">Alan AI Studio</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label for="toctree-checkbox-1"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../usage/guides/projects/">Alan AI projects</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../usage/guides/scripts/">Dialog scripts</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label for="toctree-checkbox-2"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../usage/guides/managing-scripts/">Managing scripts</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../usage/guides/importing-scripts/">Exporting and importing scripts</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../usage/guides/sharing-github/">Sharing and keeping scripts in GitHub</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../usage/guides/using-shortcuts/">Using shortcuts</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../usage/guides/changing-theme/">Changing the theme and font size</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../usage/guides/viewing-flowchart/">Viewing the script flowchart</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../usage/guides/versioning/">Versions and environments</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../usage/guides/script-testing/">Testing and debugging</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label for="toctree-checkbox-3"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../usage/guides/debugging-chat/">Debugging Chat</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../usage/guides/studio-test-tools/">Tools to simulate in-app behavior</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../usage/guides/test-view/">Test View</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../usage/guides/logs/">Alan AI Studio logs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../usage/guides/in-app-testing/">In-app testing</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../usage/guides/playground/">Alan AI Playground</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../usage/guides/analytics/">Conversational analytics</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label for="toctree-checkbox-4"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../usage/guides/dashboard/">Projects dashboard</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../usage/guides/analytics-view/">Analytics View</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../usage/guides/billing/">Billing and subscriptions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../usage/guides/plugin/">Alan AI Plugin</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../usage/button/overview/">Alan AI assistant</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/><label for="toctree-checkbox-5"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../usage/button/customization/">Customizing the AI assistant</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../usage/button/chat/">Enabling the Alan AI Chat</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../usage/button/cohorts/">Setting up cohorts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../usage/button/activation/">Starting and stopping dialog sessions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../usage/additional/supported-platforms/">Supported platforms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../usage/additional/library/">Alan AI resource library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../release-notes/updates/">Recent Alan AI Platform updates</a></li>
</ul>
<p class="caption"><span class="caption-text">Server API</span></p>
<ul class="current">
<li class="toctree-l1 has-children"><a class="reference internal" href="../../script-concepts/">Intent-driven dialogs</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/><label for="toctree-checkbox-6"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../commands-and-responses/">User commands</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/><label for="toctree-checkbox-7"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../patterns/">Patterns</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../play-options/">Play options</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../intent-matching/">Intent matching</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../voice-settings/">Voice settings</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../slots/">Slots</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/><label for="toctree-checkbox-8"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../user-defined-slots/">User-defined slots (static)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../dynamic-slots/">Dynamic slots</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../regex-slots/">Regex slots</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../predefined-slots/">Predefined slots</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../contexts/">Contexts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../objects/">Predefined script objects</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../user-data/overview/">User data</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/><label for="toctree-checkbox-9"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../user-data/events/">User events</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../user-data/client-object/">Client object</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../error-handling/">Error handling and re-prompts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../lifecycle/">Lifecycle callbacks</a></li>
</ul>
</li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="../../qna/">Question answering</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/><label for="toctree-checkbox-10"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../static/">Static corpus</a></li>
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">Dynamic corpus</a></li>
<li class="toctree-l2"><a class="reference internal" href="../query-api/">Query API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../corpus-explorer/">Corpus Explorer</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../transforms/overview/">Data transformation</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/><label for="toctree-checkbox-11"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../transforms/static-corpus-transforms/">Static corpus transforms</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../transforms/dynamic-corpus-transforms/">Dynamic corpus transforms</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../transforms/intent-transforms/">Intent transforms</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../transforms/corpus-prioritizing/">Corpus targeting and prioritizing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../transforms/transforms-explorer/">Transforms Explorer</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../generative-ai/overview/">Generative AI</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/><label for="toctree-checkbox-12"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../generative-ai/generator-api/">Generator API</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../semantic-search/overview/">Semantic search</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" type="checkbox"/><label for="toctree-checkbox-13"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../semantic-search/table-api/">Table API</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../sending-data/communication/">Sending data from the app</a><input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" type="checkbox"/><label for="toctree-checkbox-14"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../sending-data/authdata/">authData</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sending-data/visual-state/">Visual state</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sending-data/project-api/">Project API</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../built-in-javascript-libraries/">Built-in JavaScript libraries</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../widgets/">UI widgets</a><input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" type="checkbox"/><label for="toctree-checkbox-15"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../chat-cards/">Chat cards</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../chat-buttons/">Chat buttons</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../popups/">Alan AI button popups</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../api/api-reference/">API reference</a></li>
</ul>
<p class="caption"><span class="caption-text">Integration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../client-api/integration/">Integration overview</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../client-api/web/web-api/">Web frameworks</a><input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" type="checkbox"/><label for="toctree-checkbox-16"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../client-api/web/react/">React</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../client-api/web/angular/">Angular</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../client-api/web/vue/">Vue</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../client-api/web/ember/">Ember</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../client-api/web/vanilla/">JavaScript</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../client-api/web/electron/">Electron</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../client-api/web/web-component/">Cross-platform solutions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../client-api/web/server-side-rendering/">Server-side rendering</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../client-api/ios/ios-api/">iOS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../client-api/android/android-api/">Android</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../client-api/cross-platform/overview/">Cross-platform frameworks</a><input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" type="checkbox"/><label for="toctree-checkbox-17"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../client-api/cross-platform/flutter/">Flutter</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../client-api/cross-platform/ionic/">Ionic</a><input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" type="checkbox"/><label for="toctree-checkbox-18"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../client-api/cross-platform/ionic-react/">Ionic React</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../client-api/cross-platform/ionic-angular/">Ionic Angular</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../client-api/cross-platform/ionic-vue/">Ionic Vue</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../client-api/cross-platform/ionic-capacitor/">iOS and Android deployment</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../client-api/cross-platform/ionic-communicating/">Communication between components</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../client-api/cross-platform/ionic-troubleshooting/">Troubleshooting</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../client-api/cross-platform/react-native/">React Native</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../client-api/cross-platform/cordova/">Apache Cordova</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Alan AI SDK toolkit</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../client-api/methods/common-api/">Client API methods</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../client-api/methods/handlers/">Alan AI handlers</a><input class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" type="checkbox"/><label for="toctree-checkbox-19"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../client-api/methods/command-handler/">onCommand handler</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../client-api/methods/state-handler/">onButtonState handler</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../client-api/methods/connection-handler/">onConnectionStatus handler</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../client-api/methods/event-handler/">onEvent handler</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Samples &amp; Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorials/how-tos/">How-tos</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../tutorials/list-all/">Tutorials</a><input class="toctree-checkbox" id="toctree-checkbox-20" name="toctree-checkbox-20" type="checkbox"/><label for="toctree-checkbox-20"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../tutorials/list/chat-list/">Alan AI Chat</a><input class="toctree-checkbox" id="toctree-checkbox-21" name="toctree-checkbox-21" type="checkbox"/><label for="toctree-checkbox-21"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../tutorials/list/building-ai-chat/">Create an AI chat for a website</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../tutorials/list/adding-greeting/">Add a greeting to the AI chat</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../tutorials/list/using-buttons/">Use buttons in the AI chat</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../tutorials/list/collecting-data-chat/">Collect data with the AI chat</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../tutorials/list/sending-emails/">Send emails from the AI chat</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../tutorials/list/web-list/">Web</a><input class="toctree-checkbox" id="toctree-checkbox-22" name="toctree-checkbox-22" type="checkbox"/><label for="toctree-checkbox-22"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../tutorials/list/adding-voice-to-a-web-application/">Building a voice assistant for web</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../tutorials/list/food-delivery-tutorial/">Creating a voice-enabled food delivery app: complete tutorial</a><input class="toctree-checkbox" id="toctree-checkbox-23" name="toctree-checkbox-23" type="checkbox"/><label for="toctree-checkbox-23"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../tutorials/list/food-delivery-create-app/">Step 1: Create a web app</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../tutorials/list/food-delivery-create-voice-assistant/">Step 2: Create a voice assistant</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../tutorials/list/food-delivery-integrate/">Step 3: Integrate Alan AI with the app</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../tutorials/list/food-delivery-add-command/">Step 4: Add a voice command</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../tutorials/list/food-delivery-alternatives/">Step 5: Specify options and alternatives</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../tutorials/list/food-delivery-slots/">Step 6: Pick out important data with slots</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../tutorials/list/food-delivery-several-items/">Step 7: Add several items</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../tutorials/list/food-delivery-display-items/">Step 8: Send a command to display items in the cart</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../tutorials/list/food-delivery-slot-labels/">Step 9: Use slot labels to display the order</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../tutorials/list/food-delivery-remove-items/">Step 10: Remove items with voice</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../tutorials/list/food-delivery-highlight-items/">Step 11: Highlight named items</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../tutorials/list/food-delivery-checkout-context/">Step 12: Add the checkout context</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../tutorials/list/food-delivery-time/">Step 13: Get the delivery time</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../tutorials/list/food-delivery-comment/">Step 14: Capture a comment</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../tutorials/list/food-delivery-populate-fields/">Step 15: Populate fields with the delivery details</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../tutorials/list/food-delivery-api-call/">Step 16: Make an API call to get ingredients</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../tutorials/list/food-delivery-visual-context/">Step 17: Get the app visual context</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../tutorials/list/food-delivery-balance/">Step 18: Get the balance</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../tutorials/list/food-delivery-start-dialog/">Step 19: Let Alan start the dialog</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../tutorials/list/food-delivery-popup/">Step 20: Show a popup next to the Alan button</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../tutorials/list/using-dynamic-slots/">Using dynamic slots in patterns</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../tutorials/list/making-web-api-call/">Making a Web API call from the dialog script</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../tutorials/web/frameworks-list/">Web frameworks</a><input class="toctree-checkbox" id="toctree-checkbox-24" name="toctree-checkbox-24" type="checkbox"/><label for="toctree-checkbox-24"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../tutorials/web/integrating-react-app/">Building a voice assistant for a React app</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../tutorials/web/integrating-angular-app/">Building a voice assistant for an Angular app</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../tutorials/web/integrating-vue-app/">Building a voice assistant for a Vue app</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../tutorials/web/integrating-ember-app/">Building a voice assistant for an Ember app</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../tutorials/web/integrating-electron-app/">Building a voice assistant for an Electron app</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../tutorials/ios/ios-list/">iOS</a><input class="toctree-checkbox" id="toctree-checkbox-25" name="toctree-checkbox-25" type="checkbox"/><label for="toctree-checkbox-25"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../tutorials/ios/integrating-swift/">Building a voice assistant for an iOS app</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../tutorials/ios/navigating-swift/">Navigating between views</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../tutorials/ios/sending-data-swift/">Passing the app state to the dialog script</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../tutorials/ios/highlighting-swift/">Highlighing items with voice</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../tutorials/ios/triggering-info-swift/">Triggering dialog script actions without commands</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../tutorials/ios/greeting-swift/">Playing a greeting in an app</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../tutorials/android/android-list/">Android</a><input class="toctree-checkbox" id="toctree-checkbox-26" name="toctree-checkbox-26" type="checkbox"/><label for="toctree-checkbox-26"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../tutorials/android/integrating-java-kotlin/">Building a voice assistant for an Android Java or Kotlin app</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../tutorials/android/navigating-kotlin/">Navigating in an Android app with voice (Kotlin)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../tutorials/android/sending-state-kotlin/">Passing the app state to the dialog script (Kotlin)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../tutorials/android/sending-data-kotlin/">Sending data from the app to the dialog script (Kotlin)</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../tutorials/flutter/flutter-list/">Flutter</a><input class="toctree-checkbox" id="toctree-checkbox-27" name="toctree-checkbox-27" type="checkbox"/><label for="toctree-checkbox-27"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../tutorials/flutter/integrating-flutter/">Building a voice assistant for a Flutter app</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../tutorials/flutter/navigating-flutter/">Navigating between screens</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../tutorials/flutter/sending-data-flutter/">Passing the app state to the dialog script</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../tutorials/flutter/project-api-flutter/">Sending data to the dialog script</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../tutorials/ionic/ionic-list/">Ionic</a><input class="toctree-checkbox" id="toctree-checkbox-28" name="toctree-checkbox-28" type="checkbox"/><label for="toctree-checkbox-28"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../tutorials/ionic/integrating-angular/">Building a voice assistant for an Ionic Angular app</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../tutorials/ionic/navigating-angular/">Navigating between tabs (Ionic Angular)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../tutorials/ionic/sending-data-angular/">Passing the app state to the dialog script (Ionic Angular)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../tutorials/ionic/integrating-react/">Building a voice assistant for an Ionic React app</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../tutorials/ionic/navigating-react/">Navigating between tabs (Ionic React)</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../tutorials/react-native/react-native-list/">React Native</a><input class="toctree-checkbox" id="toctree-checkbox-29" name="toctree-checkbox-29" type="checkbox"/><label for="toctree-checkbox-29"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../tutorials/react-native/integrating-react-native/">Building a voice assistant for a React Native app</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../tutorials/react-native/sending-commands-react-native/">Sending commands to the app</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../tutorials/react-native/sending-state-react-native/">Passing the app state to the dialog script</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../tutorials/react-native/triggering-activities-react-native/">Triggering activities without voice commands</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../tutorials/react-native/navigating-react-native/">Navigating between screens with voice</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../usage/examples/github/">App showcase</a><input class="toctree-checkbox" id="toctree-checkbox-30" name="toctree-checkbox-30" type="checkbox"/><label for="toctree-checkbox-30"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../usage/examples/appointment-app/">Appointment scheduling app (React)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../usage/examples/shrine-app/">Shrine e-commerce app (Flutter)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../usage/examples/food-delivery-ionic/">Food delivery app (Ionic)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../usage/examples/order-drinks-app/">Order drinks app (Angular)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../usage/additional/faq/">FAQ</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../usage/examples/overview/">Alan AI examples</a><input class="toctree-checkbox" id="toctree-checkbox-31" name="toctree-checkbox-31" type="checkbox"/><label for="toctree-checkbox-31"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../usage/examples/predefined-examples/">Dialog script examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../usage/examples/code/">Integration code examples</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../usage/additional/guidelines/overview/">Multimodal conversations design guide</a><input class="toctree-checkbox" id="toctree-checkbox-32" name="toctree-checkbox-32" type="checkbox"/><label for="toctree-checkbox-32"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../usage/additional/guidelines/planning/">Planning and drafting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../usage/additional/guidelines/building/">Building the dialog</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../usage/additional/guidelines/testing/">Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../usage/additional/guidelines/publishing/">Preparing for rollout and releasing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../usage/additional/guidelines/analyzing/">Analyzing users' behavior</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../usage/additional/cheatsheet/">Alan AI cheat sheet</a></li>
</ul>

</div>
</div>
      </div>
      
    </div>
  </aside>
  <main class="main">
    <div class="content">
      <article role="main">
        <label class="toc-overlay-icon toc-content-icon" for="__toc">
          <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
        </label>
        <div class="section" id="dynamic-corpus">
<h1>Dynamic corpus<a class="headerlink" href="#dynamic-corpus" title="Permalink to this headline">¶</a></h1>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The dynamic corpus is available in SLU 4.2 and later.</p>
</div>
<p>The Q&amp;A service seamlessly integrates with dynamic data sources, such as API services and databases. It allows you to automatically retrieve semi-structured data (JSON) from third-party data providers, convert it to natural language format and utilize the retrieved data to answer user queries.</p>
<p>The dynamic corpus transforms how users access and receive dynamic data. It offers accurate responses to a diverse range of queries in real time, all in a convenient and user-friendly manner.</p>
<div class="section" id="corpus-parameters">
<h2>Corpus parameters<a class="headerlink" href="#corpus-parameters" title="Permalink to this headline">¶</a></h2>
<p>To define a dynamic corpus, use the <code class="docutils literal notranslate"><span class="pre">corpus()</span></code> function:</p>
<div class="literal-block-wrapper docutils container" id="id1">
<div class="code-block-caption"><span class="caption-text">Dialog script</span><a class="headerlink" href="#id1" title="Permalink to this code">¶</a></div>
<div class="highlight-alan notranslate"><div class="highlight"><pre><span></span><span class="kp">corpus</span><span class="p">({</span>
   <span class="kp">title</span><span class="o">:</span> <span class="sb">`Infrastructure requests`</span><span class="p">,</span>
   <span class="nv">input: </span><span class="kp">project</span><span class="p">.</span><span class="nx">objects</span><span class="p">,</span>
   <span class="nv">query: </span><span class="nx">transforms</span><span class="p">.</span><span class="nx">vms_queries</span><span class="p">,</span>
   <span class="nv">output: </span><span class="kp">project</span><span class="p">.</span><span class="nx">cleanObjects</span><span class="p">,</span>
   <span class="nv">transforms: </span><span class="nx">transforms</span><span class="p">.</span><span class="nx">vms_answer</span><span class="p">,</span>
   <span class="nv">priority: </span><span class="mf">1</span>
<span class="p">});</span>
</pre></div>
</div>
</div>
<div class="table-wrapper"><table class="docutils align-default">
<colgroup>
<col style="width: 6%"/>
<col style="width: 8%"/>
<col style="width: 9%"/>
<col style="width: 76%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p><strong>Name</strong></p></th>
<th class="head"><p><strong>Type</strong></p></th>
<th class="head"><p><strong>Is Required</strong></p></th>
<th class="head"><p><strong>Description</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">title</span></code></p></td>
<td><p>string</p></td>
<td><p>False</p></td>
<td><p>Corpus title.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">input</span></code></p></td>
<td><p>function</p></td>
<td><p>False</p></td>
<td><p>Function used to provide context data to the dynamic corpus.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">query</span></code></p></td>
<td><p>function</p></td>
<td><p>True</p></td>
<td><p>Transforms function used to process user queries and generate code to retrieve necessary data.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">output</span></code></p></td>
<td><p>function</p></td>
<td><p>False</p></td>
<td><p>Function used to clean up data passed to the dynamic corpus.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">transforms</span></code></p></td>
<td><p>function</p></td>
<td><p>False</p></td>
<td><p>Transforms function used to format the corpus output.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">priority</span></code></p></td>
<td><p>integer</p></td>
<td><p>False</p></td>
<td><p>Priority level assigned to the corpus. Corpuses with higher priority are considered more relevant when user requests are processed.</p></td>
</tr>
</tbody>
</table></div>
</div>
<div class="section" id="example-of-use">
<h2>Example of use<a class="headerlink" href="#example-of-use" title="Permalink to this headline">¶</a></h2>
<p>Assume you have a JSON object describing a list of VMs in your cloud environment. You want to use this information as a dynamic data source so that users can ask questions about VMs with natural language.</p>
<p>To use a dynamic corpus for an AI assistant, perform the following steps:</p>
<ol class="arabic simple">
<li><p><a class="reference external" href="#retrieving-data">Retrieve data</a>: in the dialog script, write a function that will retrieve data from a dynamic data source.</p></li>
<li><p>[Optional] <a class="reference external" href="#cleaning-up-data">Clean up data</a>: convert the retrieved data to a simpler form to use it with the dynamic corpus.</p></li>
<li><p>Create transforms: for each dynamic corpus, define the following <a class="reference internal" href="../../transforms/overview/"><span class="doc">transforms</span></a> in the AI assistant project:</p>
<ul class="simple">
<li><p>[Required] <a class="reference external" href="#adding-a-query-transform">query</a>: use this type of a transform to teach the AI assistant how to generate code that will retrieve necessary data based on user queries.</p></li>
<li><p>[Optional] <a class="reference external" href="#adding-an-output-transform">transforms</a>: use this type of a transform to teach the AI assistant how to format the corpus data output.</p></li>
</ul>
</li>
<li><p><a class="reference external" href="#adding-a-corpus">Add a dynamic corpus</a>: in the dialog script, define a dynamic corpus and the <a class="reference external" href="#corpus_parameters">corpus parameters</a>.</p></li>
</ol>
<div class="section" id="retrieving-data">
<h3>Retrieving data<a class="headerlink" href="#retrieving-data" title="Permalink to this headline">¶</a></h3>
<p>To retrieve data from a dynamic data source, you will typically <a class="reference internal" href="../../built-in-javascript-libraries/#working-with-api-calls"><span class="std std-ref">make an API call</span></a> to the data provider. To keep things simple, we will add a JSON object defining VMs to the dialog script directly.</p>
<p>In the dialog script, create the <code class="docutils literal notranslate"><span class="pre">project.infrastructure</span></code> variable, add the <code class="docutils literal notranslate"><span class="pre">getData()</span></code> function and save it to <code class="docutils literal notranslate"><span class="pre">project.objects</span></code>:</p>
<div class="literal-block-wrapper docutils container" id="id2">
<div class="code-block-caption"><span class="caption-text">Dialog script</span><a class="headerlink" href="#id2" title="Permalink to this code">¶</a></div>
<div class="highlight-alan notranslate"><div class="highlight"><pre><span></span><span class="kp">project</span><span class="p">.</span><span class="nv">infrastructure = </span><span class="p">{</span>
   <span class="s2">"vms"</span><span class="o">:</span> <span class="p">[</span>
       <span class="p">{</span>
           <span class="s2">"name"</span><span class="o">:</span> <span class="s2">"prod-web-server"</span><span class="p">,</span>
           <span class="s2">"cpu"</span><span class="o">:</span> <span class="mf">4</span><span class="p">,</span>
           <span class="s2">"memoryGB"</span><span class="o">:</span> <span class="mf">8</span><span class="p">,</span>
           <span class="s2">"diskGB"</span><span class="o">:</span> <span class="mf">256</span><span class="p">,</span>
           <span class="s2">"location"</span><span class="o">:</span> <span class="s2">"US-West"</span><span class="p">,</span>
           <span class="s2">"status"</span><span class="o">:</span> <span class="s2">"Running"</span>
       <span class="p">},</span>
       <span class="p">{</span>
           <span class="s2">"name"</span><span class="o">:</span> <span class="s2">"prod-db-server"</span><span class="p">,</span>
           <span class="s2">"cpu"</span><span class="o">:</span> <span class="mf">2</span><span class="p">,</span>
           <span class="s2">"memoryGB"</span><span class="o">:</span> <span class="mf">4</span><span class="p">,</span>
           <span class="s2">"diskGB"</span><span class="o">:</span> <span class="mf">128</span><span class="p">,</span>
           <span class="s2">"location"</span><span class="o">:</span> <span class="s2">"EU-Central"</span><span class="p">,</span>
           <span class="s2">"status"</span><span class="o">:</span> <span class="s2">"Stopped"</span>
       <span class="p">},</span>
       <span class="p">{</span>
           <span class="s2">"name"</span><span class="o">:</span> <span class="s2">"stage-app-server"</span><span class="p">,</span>
           <span class="s2">"cpu"</span><span class="o">:</span> <span class="mf">8</span><span class="p">,</span>
           <span class="s2">"memoryGB"</span><span class="o">:</span> <span class="mf">16</span><span class="p">,</span>
           <span class="s2">"diskGB"</span><span class="o">:</span> <span class="mf">512</span><span class="p">,</span>
           <span class="s2">"location"</span><span class="o">:</span> <span class="s2">"Asia-East"</span><span class="p">,</span>
           <span class="s2">"status"</span><span class="o">:</span> <span class="s2">"Running"</span>
       <span class="p">}</span>
   <span class="p">]</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">getData</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nv">data = </span><span class="kp">project</span><span class="p">.</span><span class="nx">infrastructure</span><span class="p">;</span>
    <span class="k">return</span> <span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">vms</span><span class="p">);</span>
<span class="p">}</span>

<span class="kp">project</span><span class="p">.</span><span class="nv">objects = </span><span class="nx">getData</span><span class="p">;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="cleaning-up-data">
<h3>Cleaning up data<a class="headerlink" href="#cleaning-up-data" title="Permalink to this headline">¶</a></h3>
<p>This step is only required if you want to clean up and simplify data before sending it to the dynamic corpus.</p>
<p>Assume we only want to give replies about VMs in the production environment, those with <code class="docutils literal notranslate"><span class="pre">prod</span></code> in their names. To the dialog script, add the <code class="docutils literal notranslate"><span class="pre">filterObjects()</span></code> function and save it to <code class="docutils literal notranslate"><span class="pre">project.cleanObjects</span></code>:</p>
<div class="literal-block-wrapper docutils container" id="id3">
<div class="code-block-caption"><span class="caption-text">Dialog script</span><a class="headerlink" href="#id3" title="Permalink to this code">¶</a></div>
<div class="highlight-alan notranslate"><div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">filterObjects</span> <span class="p">()</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nv">vmArray = </span><span class="nx">getAllVms</span><span class="p">();</span>
    <span class="k">return</span> <span class="nx">vmArray</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">vm</span> <span class="p">=&gt;</span> <span class="o">!</span><span class="nx">vm</span><span class="p">.</span><span class="nx">name</span><span class="p">.</span><span class="nx">includes</span><span class="p">(</span><span class="s1">'stage'</span><span class="p">));</span>
<span class="p">}</span>

<span class="kp">project</span><span class="p">.</span><span class="nv">cleanObjects = </span><span class="nx">filterObjects</span><span class="p">;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="adding-a-query-transform">
<h3>Adding a query transform<a class="headerlink" href="#adding-a-query-transform" title="Permalink to this headline">¶</a></h3>
<p>With a query transform, you can teach the AI assistant to process the input JSON data and generate code that returns all information needed to answer user questions.</p>
<p>You can teach the AI assistant using functions added to the dialog script. Each function used in transforms must have a clear function explanation in the comments preceding the function code.</p>
<ol class="arabic">
<li><p>To the dialog script, add the <code class="docutils literal notranslate"><span class="pre">getAllVMs()</span></code> function with the function description:</p>
<div class="literal-block-wrapper docutils container" id="id4">
<div class="code-block-caption"><span class="caption-text">Dialog script</span><a class="headerlink" href="#id4" title="Permalink to this code">¶</a></div>
<div class="highlight-alan notranslate"><div class="highlight"><pre><span></span><span class="cm">/**</span>
<span class="cm">@tool: Returns an array of vms</span>
<span class="cm">@param:</span>
<span class="cm">@return: an array with short description of objects with the following fields:</span>
<span class="cm">[</span>
<span class="cm">    {</span>
<span class="cm">        "name": vm_name,</span>
<span class="cm">        "cpu": cpu_count,</span>
<span class="cm">        "memoryGB": vm_memory,</span>
<span class="cm">        "diskGB": disk_space,</span>
<span class="cm">        "location": vm_location,</span>
<span class="cm">        "status": Running/Stopped</span>
<span class="cm">    },</span>
<span class="cm">    ...</span>
<span class="cm">]</span>
<span class="cm">*/</span>
<span class="kd">function</span> <span class="nx">getAllVms</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nv">data = </span><span class="kp">project</span><span class="p">.</span><span class="nx">infrastructure</span><span class="p">;</span>
    <span class="kd">const</span> <span class="nv">objects = </span><span class="p">[];</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">vms</span> <span class="o">&amp;&amp;</span> <span class="nb">Array</span><span class="p">.</span><span class="nx">isArray</span><span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">vms</span><span class="p">))</span> <span class="p">{</span>
        <span class="nx">objects</span><span class="p">.</span><span class="nx">push</span><span class="p">(...</span><span class="nx">data</span><span class="p">.</span><span class="nx">vms</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nx">objects</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</li>
<li><p>In the AI assistant project, under <strong>Transforms</strong>, create the <code class="docutils literal notranslate"><span class="pre">vm_queries</span></code> transform with the following data:</p>
<ol class="loweralpha">
<li><p>In the <strong>Instruction</strong> field, import <code class="docutils literal notranslate"><span class="pre">getAllVms</span></code> function and provide general instructions on how to process VMs data:</p>
<div class="literal-block-wrapper docutils container" id="id5">
<div class="code-block-caption"><span class="caption-text">Instruction</span><a class="headerlink" href="#id5" title="Permalink to this code">¶</a></div>
<div class="highlight-alan notranslate"><div class="highlight"><pre><span></span><span class="err">#</span><span class="k">import</span> <span class="nx">getAllVms</span>

<span class="nx">When</span> <span class="nx">a</span> <span class="nx">question</span> <span class="nx">is</span> <span class="nx">asked</span><span class="p">,</span> <span class="nx">make</span> <span class="nx">a</span> <span class="nx">decision</span> <span class="k">if</span> <span class="nx">the</span> <span class="nx">question</span> <span class="nx">relates</span> <span class="nx">to</span> <span class="nx">VMs</span> <span class="nx">or</span> <span class="nx">not</span><span class="p">.</span>
<span class="nx">If</span> <span class="nx">question</span> <span class="nx">does</span> <span class="nx">not</span> <span class="nx">relate</span> <span class="nx">to</span> <span class="nx">VMs</span> <span class="nx">or</span> <span class="nx">is</span> <span class="nx">too</span> <span class="nx">generic</span><span class="p">,</span> <span class="nx">generate</span> <span class="kc">null</span><span class="p">.</span>
<span class="nx">If</span> <span class="nx">question</span> <span class="nx">relates</span> <span class="nx">to</span> <span class="nx">VMs</span><span class="p">,</span> <span class="nx">write</span> <span class="nx">an</span> <span class="k">async</span> <span class="kd">function</span> <span class="nx">getRequestedData</span><span class="p">()</span> <span class="nx">that</span> <span class="nx">takes</span> <span class="nx">no</span> <span class="nx">parameters</span><span class="p">.</span> <span class="nx">getRequestedData</span><span class="p">()</span> <span class="nx">must</span> <span class="nx">call</span> <span class="nx">the</span> <span class="nx">provided</span> <span class="nx">functions</span> <span class="nx">to</span> <span class="nx">construct</span> <span class="nx">a</span> <span class="nb">JSON</span> <span class="nx">that</span> <span class="nx">will</span> <span class="nx">have</span> <span class="nx">all</span> <span class="nx">the</span> <span class="nx">necessary</span> <span class="nx">information</span> <span class="nx">to</span> <span class="nx">answer</span> <span class="nx">the</span> <span class="nx">question</span><span class="p">.</span>
</pre></div>
</div>
</div>
</li>
<li><p>In the <strong>Examples</strong> section, add an example to answer the <code class="docutils literal notranslate"><span class="pre">Show</span> <span class="pre">all</span> <span class="pre">VMs</span></code> question. To add the example result, in the top right corner, click the <strong>Generate result</strong> button and edit the created function code if necessary.</p>
<img alt="../../../_images/transforms-code-example1.png" src="../../../_images/transforms-code-example1.png"/>
</li>
<li><p>Add another example to ask a question about VMs in the <code class="docutils literal notranslate"><span class="pre">Stopped</span></code> status:</p>
<img alt="../../../_images/transforms-code-example2.png" src="../../../_images/transforms-code-example2.png"/>
</li>
</ol>
</li>
</ol>
</div>
<div class="section" id="adding-an-output-transform">
<h3>Adding an output transform<a class="headerlink" href="#adding-an-output-transform" title="Permalink to this headline">¶</a></h3>
<p>With an output transform, you can define the output format for the AI assistant’s answer.</p>
<ol class="arabic" start="2">
<li><p>In the AI assistant project, under <strong>Transforms</strong>, create the <code class="docutils literal notranslate"><span class="pre">vm_answers</span></code> transform with the following data:</p>
<ol class="loweralpha">
<li><p>In the <strong>Instruction</strong> field, provide general instructions on how to format the VMs data:</p>
<div class="literal-block-wrapper docutils container" id="id6">
<div class="code-block-caption"><span class="caption-text">Instruction</span><a class="headerlink" href="#id6" title="Permalink to this code">¶</a></div>
<div class="highlight-alan notranslate"><div class="highlight"><pre><span></span><span class="nx">The</span> <span class="nx">input</span> <span class="nx">contains</span> <span class="nx">sample</span> <span class="nb">JSON</span> <span class="kd">with</span> <span class="nx">VM</span> <span class="nx">data</span><span class="p">,</span> <span class="nx">the</span> <span class="nx">query</span> <span class="nx">contains</span> <span class="nx">a</span> <span class="nx">set</span> <span class="k">of</span> <span class="nx">sample</span> <span class="nx">user</span> <span class="nx">questions</span><span class="p">,</span> <span class="nx">the</span> <span class="nx">result</span> <span class="nx">field</span> <span class="nx">contains</span> <span class="nx">the</span> <span class="nx">formatted</span> <span class="nx">answer</span> <span class="nx">to</span> <span class="nx">be</span> <span class="nx">provided</span><span class="p">.</span>
</pre></div>
</div>
</div>
</li>
<li><p>In the <strong>Examples</strong> section, add an example to answer the <code class="docutils literal notranslate"><span class="pre">Show</span> <span class="pre">information</span> <span class="pre">about</span> <span class="pre">app-server-1</span></code> question:</p>
<img alt="../../../_images/transforms-code-example3.png" src="../../../_images/transforms-code-example3.png"/>
</li>
</ol>
</li>
</ol>
</div>
<div class="section" id="adding-a-corpus">
<h3>Adding a corpus<a class="headerlink" href="#adding-a-corpus" title="Permalink to this headline">¶</a></h3>
<p>To define a dynamic corpus, add the <code class="docutils literal notranslate"><span class="pre">corpus()</span></code> function with the following parameters to the dialog script:</p>
<div class="literal-block-wrapper docutils container" id="id7">
<div class="code-block-caption"><span class="caption-text">Dialog script</span><a class="headerlink" href="#id7" title="Permalink to this code">¶</a></div>
<div class="highlight-alan notranslate"><div class="highlight"><pre><span></span><span class="kp">corpus</span><span class="p">({</span>
    <span class="kp">title</span><span class="o">:</span> <span class="sb">`Infrastructure requests`</span><span class="p">,</span>
    <span class="nv">input: </span><span class="kp">project</span><span class="p">.</span><span class="nx">objects</span><span class="p">,</span>
    <span class="nv">query: </span><span class="nx">transforms</span><span class="p">.</span><span class="nx">vms_queries</span><span class="p">,</span>
    <span class="nv">output: </span><span class="kp">project</span><span class="p">.</span><span class="nx">cleanObjects</span><span class="p">,</span>
    <span class="nv">transforms: </span><span class="nx">transforms</span><span class="p">.</span><span class="nx">vms_answer</span><span class="p">,</span>
    <span class="nv">priority: </span><span class="mf">1</span>
<span class="p">});</span>
</pre></div>
</div>
</div>
<p>Now, you can ask the AI assistant questions like:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Show</span> <span class="pre">all</span> <span class="pre">VMs</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">What</span> <span class="pre">VMs</span> <span class="pre">are</span> <span class="pre">located</span> <span class="pre">in</span> <span class="pre">the</span> <span class="pre">US</span> <span class="pre">region?</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">What</span> <span class="pre">VMs</span> <span class="pre">have</span> <span class="pre">more</span> <span class="pre">than</span> <span class="pre">2</span> <span class="pre">CPUs</span></code>?</p></li>
</ul>
<img alt="../../../_images/transforms-code-result.png" src="../../../_images/transforms-code-result.png"/>
</div>
</div>
</div>

      </article>
	  <div class="alan-btn"></div>
	  <script>
		function isLocalStorageAvailable() {
            var result;

            try {
                localStorage.setItem('test', 1);
                localStorage.getItem('test');
                localStorage.removeItem('test');
                result = true;
            } catch (e) {
                result = false;
            }
            return result;
        }

        function getProjectId() {
            var key = 'beae1a6e1f7e512c4d0bf347580da6fd2e956eca572e1d8b807a3e2338fdd0dc/prod';
            if (key) {
                return key.substr(0, key.indexOf('/'));
            }

            return null;
        }

        console.info("Alan Lib is laoded.");
        window.alanBtnInstance = window.alanBtn({
            key: 'beae1a6e1f7e512c4d0bf347580da6fd2e956eca572e1d8b807a3e2338fdd0dc/prod',
            zIndex: 999999,
            onCommand: function (commandData) {

                if (commandData && commandData.command === 'openURL') {
                    if (commandData.target === '_blank'){
                        window.open(commandData.url,'_newtab' + Math.floor(Math.random()*999999));
                    } else {
                        window.location.href = commandData.url;
                    }

                }
            },
            onConnectionStatus: function (status) {
                if (status === 'authorized') {
                    window.alanBtnInstance.setVisualState({ page: window.location.pathname, url: window.location.href });
                    if(isLocalStorageAvailable()){
                        if(!localStorage.getItem('alan-btn-session-'+ getProjectId())) {
                            localStorage.setItem('alan-btn-session-'+ getProjectId(), 1)
                            window.alanBtnInstance.callProjectApi("sendGreetingMessage");
                        }
                    }
                }
            },
        });
	  </script>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="../query-api/">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Query API</div>
              </div>
              <svg><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="../static/">
              <svg><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Static corpus</div>
                
              </div>
            </a>
        </div>
        
	  <div class="alan-footer">
	  <div class="footer-logo-and-social-icons">
		<div class="footer-logo-and-text">
		<a class="footer-logo" aria-label="Link to alan.app" href="https://alan.app/"></a>
		</div>
		
		<div class="footer-other">
		<div class="footer-social">
			<a href="https://twitter.com/alanvoiceai" target="_blank" class="fa-brands fa-twitter"></a>
			<a href="http://linkedin.com/company/alanvoiceai" target="_blank" class="fa-brands fa-linkedin"></a>
			<a href="https://www.facebook.com/alanvoiceai/" target="_blank" class="fa-brands fa-facebook"></a>
			<a href="https://www.instagram.com/alanvoiceai/" target="_blank" class="fa-brands fa-instagram"></a>
			<a href="https://www.youtube.com/channel/UCrsg0b32nL6L2j5jG7uxOuw" target="_blank" class="fa-brands fa-youtube"></a>
			<a href="https://alanaigroup.slack.com/join/shared_invite/enQtNzMzOTE5MTIwMjg4LWI4ZmM4MTNkMTdmY2M0ZWEwODlmZDQ5Y2ZkMjUzNmMyZDJiMzA0Y2M1NDdhYzZjYWFlZTA5NjM4OTU0MWFmNWU#/shared-invite/email" target="_blank" class="fa-brands fa-slack"></a>
			<a href="https://github.com/alan-ai" target="_blank" class="fa-brands fa-github"></a>
        </div>
		</div>
	  </div>
	  <div class="footer-badges">
	  <div class="footer-badges-info">
	  <div><span><sup>®</sup>2024 Alan AI, Inc. All rights reserved.</span></div>
	  </div>
	  
	  </div>
	  <div class="footer-badges-imgs">
	  <a class="footer_badges_imgs_app-store" href="https://apps.apple.com/ca/app/alan-playground/id1474478921"></a>
	  <a class="footer_badges_imgs_google-play" href="https://play.google.com/store/apps/details?id=app.alan.playground"></a>
	  </div>
	  
      </footer>
    </div>
	
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Dynamic corpus</a><ul>
<li><a class="reference internal" href="#corpus-parameters">Corpus parameters</a></li>
<li><a class="reference internal" href="#example-of-use">Example of use</a><ul>
<li><a class="reference internal" href="#retrieving-data">Retrieving data</a></li>
<li><a class="reference internal" href="#cleaning-up-data">Cleaning up data</a></li>
<li><a class="reference internal" href="#adding-a-query-transform">Adding a query transform</a></li>
<li><a class="reference internal" href="#adding-an-output-transform">Adding an output transform</a></li>
<li><a class="reference internal" href="#adding-a-corpus">Adding a corpus</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  
  </main>
</div>
</div>

    <script id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/clipboard.min.js"></script>
    <script src="../../../_static/copybutton.js"></script>
    <script src="../../../_static/scripts/custom.js"></script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/typesense-docsearch.js@latest/dist/cdn/docsearch.min.js"></script>
    <script defer="defer" src="../../../_static/scripts/algolia.js"></script>
    <script defer="defer" src="../../../_static/scripts/algolia-mobile.js"></script>
    <script src="../../../_static/scripts/main.js?digest=e931d09b2a40c1bb82b542effe772014573baf67"></script></body>
</html>